(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),s=a.n(i),o=(a(15),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function c(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var l=a(1),h=a(2),d=a(4),u=a(3),p=a(6),v=a(5),f=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={loadingScreenWorthShowing:!0,shutOffDelayer:null},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentWillUnmount",value:function(){var e=this.state.shutOffDelayer;clearInterval(e)}},{key:"render",value:function(){var e=this,t=this.props.dataIsLoaded,a=this.state,n=a.loadingScreenWorthShowing,i=a.shutOffDelayer,s=null;if(n){var o=t?"loading-screen loading-finished":"loading-screen";if(t&&!i){this.setState({shutOffDelayer:setTimeout(function(){e.setState({loadingScreenWorthShowing:!1})},6e3)})}for(var c=[],l=0;l<10;l++){var h=4*l/10,d={width:"100%",height:"100%",paddingTop:"100%",animation:"loading-screen-animation ".concat(parseInt(4),"s ease-in-out"),animationDelay:"".concat(h,"s"),color:"white",fontSize:"4rem",fontFamily:"Libre Baskerville",textAlign:"center"};c.push(r.a.createElement("div",{style:d,key:"Loading Bar ".concat(l)}))}s=r.a.createElement("div",{className:o},c)}return s}}]),t}(n.Component),g=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={firstShownResearchFieldIndex:0,numberOfResearchFieldsShownMostRecently:0,currentlyShownResearchFields:[],headerRowResearchFieldLoopingInterval:null},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"updateCurrentlyShownResearchFields",value:function(){var e=this.state,t=e.firstShownResearchFieldIndex,a=e.numberOfResearchFieldsShownMostRecently,n=this.props.researchFields,r=(t+a)%n.length,i=window.innerWidth/10-30,s=[],o=r,c=n[o];do{o+=1,s.push(c),i-=c.length,c=n[o%=n.length]}while(i>c.length);this.setState({firstShownResearchFieldIndex:r,currentlyShownResearchFields:s,numberOfResearchFieldsShownMostRecently:s.length})}},{key:"initializeHeaderRowResearchFieldLoopingInterval",value:function(){var e=this;this.updateCurrentlyShownResearchFields(),this.headerRowResearchFieldLoopingInterval=setInterval(function(){e.updateCurrentlyShownResearchFields()},8e3)}},{key:"componentDidMount",value:function(){this.initializeHeaderRowResearchFieldLoopingInterval()}},{key:"componentWillUnmount",value:function(){clearInterval(this.headerRowResearchFieldLoopingInterval)}},{key:"render",value:function(){var e=this.state.firstShownResearchFieldIndex,t=this.props.goToResearchFieldAtIndexMethod;return r.a.createElement("div",{id:"header-row"},r.a.createElement("ul",{className:"news-link-ul"},this.state.currentlyShownResearchFields.map(function(a,n){var i=n+e;return r.a.createElement("li",{onClick:function(){return t(i)},key:a},r.a.createElement("a",{href:"#".concat(parseInt(i))},a))})))}}]),t}(n.Component);var m=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.researchFields,a=e.indexOfResearchFieldOfCurrentlyDisplayedArticles,n=e.sideNavigationBarOpenStateChangingMethod,i=e.goToPreviousResearchFieldMethod,s=e.goToNextResearchFieldMethod,o=e.sideNavigationBarIsOpen,c=t[a],l=o?"Navigate Fewer Research Fields":"Navigate More Research Fields",h=0===a,d=t.length-1===a,u=h?null:r.a.createElement("span",{className:"move-research-field-left",onClick:i},"Previous Research Field"),p=d?null:r.a.createElement("span",{className:"move-research-field-right",onClick:s},"Next Research Field");return r.a.createElement("div",{id:"title-row"},r.a.createElement("div",{id:"side-bar-toggle",onClick:n},l),r.a.createElement("div",{id:"arxiv-title"},"The ArXiv Archive"),r.a.createElement("div",{id:"current-research-field-display-row"},u,r.a.createElement("span",{className:"currently-shown-research-field",onClick:n},c),p),r.a.createElement("hr",{id:"title-divider"}))}}]),t}(n.Component);function O(e,t){var a=e.page_link,n=e.research_paper_title,i=e.primary_subject,s=e.secondary_subjects,o=e.author_info,c=e.abstract,l=o.map(function(e,t){var a=e.author,n=e.author_link;return r.a.createElement("span",{className:"article-author",key:a.concat(parseInt(t))},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:n},a)," ")});return r.a.createElement("div",{className:"article",key:t},n&&r.a.createElement("span",{className:"article-title"},r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:a,className:"title"},n)),r.a.createElement("br",null),r.a.createElement("span",{className:"article-author"},"By: "),l,r.a.createElement("div",{className:"article-subjects"},"Subjects: ",r.a.createElement("span",null,i),s.length>0&&", ",s.join(", ")),r.a.createElement("div",{className:"article-abstract"},c))}var b=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.researchFieldToResearchPaperJSONObjectsMapping[e.researchFieldOfCurrentlyDisplayedArticles],a=[],n=[],i=[],s=0,o=0,c=0;t.forEach(function(e){var t=Math.min(s,o,c),r=e.abstract,l=e.research_paper_title,h=r.length+8*l.length+20;switch(t){case s:a.push(e),s+=h;break;case o:n.push(e),o+=h;break;case c:i.push(e),c+=h;break;default:console.warn("Could not render main article columns correctly.")}});var l=a.map(O),h=n.map(O),d=i.map(O);return r.a.createElement("div",{id:"article-column-container"},r.a.createElement("div",{key:1,className:"article-column"},l),r.a.createElement("div",{key:2,className:"article-column"},h),r.a.createElement("div",{key:3,className:"article-column"},d))}}]),t}(n.Component);function y(e){var t={};return e.forEach(function(e){var a=e.research_field,n=t[a];n?n.push(e):n=[e],t[a]=n}),t}var F=function(e){function t(e){var a;Object(l.a)(this,t);var n=(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).props.researchPaperJSONObjects;return a.state={researchFieldToResearchPaperJSONObjectsMapping:y(n)},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.state.researchFieldToResearchPaperJSONObjectsMapping,t=this.props,a=t.researchFields,n=t.indexOfResearchFieldOfCurrentlyDisplayedArticles,i=t.goToNextResearchFieldMethod,s=t.goToPreviousResearchFieldMethod,o=t.sideNavigationBarOpenStateChangingMethod,c=t.sideNavigationBarIsOpen,l=a[n];return r.a.createElement("div",{id:"center-frame",onClick:function(){c&&o()}},r.a.createElement(m,{sideNavigationBarOpenStateChangingMethod:o,goToPreviousResearchFieldMethod:s,goToNextResearchFieldMethod:i,researchFields:a,indexOfResearchFieldOfCurrentlyDisplayedArticles:n,sideNavigationBarIsOpen:c}),r.a.createElement(b,{researchFieldToResearchPaperJSONObjectsMapping:e,researchFieldOfCurrentlyDisplayedArticles:l}))}}]),t}(n.Component),R=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.goToResearchFieldAtIndexMethod,a=e.researchFields,n=e.sideNavigationBarOpenStateChangingMethod,i=e.sideNavigationBarIsOpen?"side-navigation-bar open":"side-navigation-bar closed";return r.a.createElement("div",{className:i},r.a.createElement("ul",{className:"side-navigation-bar-ul"},a.map(function(e,a){return r.a.createElement("li",{onClick:function(){n(),t(a)},key:e},r.a.createElement("a",{href:"#".concat(parseInt(a))},e))})))}}]),t}(n.Component);var w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).goToNextResearchFieldMethod=a.goToNextResearchFieldMethod.bind(Object(p.a)(a)),a.goToPreviousResearchFieldMethod=a.goToPreviousResearchFieldMethod.bind(Object(p.a)(a)),a.goToResearchFieldAtIndex=a.goToResearchFieldAtIndex.bind(Object(p.a)(a)),a.changeSideNavigationBarOpenState=a.changeSideNavigationBarOpenState.bind(Object(p.a)(a)),a.state={researchFields:[],allResearchPaperJSONObjects:[],dataIsLoaded:!1},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.getElementsByTagName("title")[0].innerText="The ArXiv Archive",fetch("https://webhooks.mongodb-stitch.com/api/client/v2.0/app/arxivnewspaperfetcher-mkmia/service/arXivNewsPaperListener/incoming_webhook/webhook0").then(function(e){return e.json()}).then(function(t){var a=function(e){var t,a=e.map(function(e){return e.research_field}),n=(t=a).filter(function(e,a){return t.indexOf(e)>=a});return n.sort(),n}(t),n=0,r=window.location.hash.slice(1),i=parseInt(r);if(Number.isInteger(i)){var s=a.length-1;n=Math.max(0,Math.min(i,s))}e.setState({researchFields:a,indexOfResearchFieldOfCurrentlyDisplayedArticles:n,allResearchPaperJSONObjects:t,dataIsLoaded:!0,sideNavigationBarIsOpen:!1})})}},{key:"changeSideNavigationBarOpenState",value:function(){var e=!this.state.sideNavigationBarIsOpen;this.setState({sideNavigationBarIsOpen:e})}},{key:"goToResearchFieldAtIndex",value:function(e){var t=this.state.researchFields.length-1;this.setState({indexOfResearchFieldOfCurrentlyDisplayedArticles:Math.max(0,Math.min(e,t))})}},{key:"goToNextResearchFieldMethod",value:function(){var e=this.state,t=e.researchFields,a=e.indexOfResearchFieldOfCurrentlyDisplayedArticles,n=t.length-1,r=Math.min(a+1,n);this.setState({indexOfResearchFieldOfCurrentlyDisplayedArticles:r})}},{key:"goToPreviousResearchFieldMethod",value:function(){var e=this.state.indexOfResearchFieldOfCurrentlyDisplayedArticles,t=Math.max(e-1,0);this.setState({indexOfResearchFieldOfCurrentlyDisplayedArticles:t})}},{key:"render",value:function(){var e=this.state,t=e.researchFields,a=e.indexOfResearchFieldOfCurrentlyDisplayedArticles,n=e.allResearchPaperJSONObjects,i=e.dataIsLoaded,s=e.sideNavigationBarIsOpen;return i&&(window.location.hash="#".concat(a.toString())),r.a.createElement("div",{id:"app"},r.a.createElement(f,{dataIsLoaded:i}),i&&r.a.createElement("div",{id:"loaded-content"},r.a.createElement(g,{goToResearchFieldAtIndexMethod:this.goToResearchFieldAtIndex,researchFields:t}),r.a.createElement(R,{goToResearchFieldAtIndexMethod:this.goToResearchFieldAtIndex,researchFields:t,sideNavigationBarOpenStateChangingMethod:this.changeSideNavigationBarOpenState,sideNavigationBarIsOpen:s}),r.a.createElement(F,{researchFields:t,indexOfResearchFieldOfCurrentlyDisplayedArticles:a,researchPaperJSONObjects:n,goToNextResearchFieldMethod:this.goToNextResearchFieldMethod,goToPreviousResearchFieldMethod:this.goToPreviousResearchFieldMethod,sideNavigationBarOpenStateChangingMethod:this.changeSideNavigationBarOpenState,sideNavigationBarIsOpen:s})))}}]),t}(n.Component);s.a.render(r.a.createElement(w,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/arxiv_as_a_newspaper",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/arxiv_as_a_newspaper","/service-worker.js");o?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):c(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):c(t,e)})}}()},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.cf2f4a22.chunk.js.map